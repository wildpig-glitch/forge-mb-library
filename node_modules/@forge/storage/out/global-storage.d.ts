import { FetchMethod } from './index';
import { CustomEntityListOptions, ListOptions } from './query-interfaces';
import { SharedStorageAdapter } from './storage-adapter';
interface ListResults {
    results: {
        key: string;
        value: any;
    }[];
    nextCursor?: string;
}
interface Timer {
    stop(tags?: Record<string, string>): void;
}
interface Counter {
    incr(): void;
}
interface Timing {
    measure(): Timer;
}
interface Metrics {
    timing(name: string, tags?: Record<string, string>): Timing;
    counter(name: string, tags?: Record<string, string>): Counter;
}
export declare type StoreType = 'typed' | 'untyped';
export declare type OperationType = 'get' | 'set' | 'query' | 'delete';
export declare class GlobalStorage implements SharedStorageAdapter {
    private apiClient;
    private readonly getMetrics;
    private readonly endpoint;
    constructor(apiClient: FetchMethod, getMetrics: () => Metrics | undefined);
    get(key: string): Promise<any>;
    getSecret(key: string): Promise<any>;
    list(options: ListOptions): Promise<ListResults>;
    listCustomEntities(options: CustomEntityListOptions): Promise<ListResults>;
    set(key: string, value: any): Promise<void>;
    setSecret(key: string, value: any): Promise<void>;
    delete(key: string): Promise<void>;
    deleteSecret(key: string): Promise<void>;
    getEntity<T>(entityName: string, entityKey: string): Promise<T>;
    setEntity<T>(entityName: string, entityKey: string, value: T): Promise<void>;
    deleteEntity(entityName: string, entityKey: string): Promise<void>;
    private getInternal;
    private getEntityInternal;
    private buildRequest;
    private query;
    private mutation;
    private wrapInMetric;
}
export {};
//# sourceMappingURL=global-storage.d.ts.map